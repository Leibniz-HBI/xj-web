var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

import React, { createContext, useContext, useReducer } from 'react';
import dayjs from 'dayjs';
import { csvParse } from 'd3-dsv';
import { schemeSet2 } from 'd3-scale-chromatic';
import { scaleOrdinal } from 'd3-scale';
/* babel-plugin-inline-import '../data/data.csv' */var dataRaw = 'id,term,categories,alternative spellings,notable_names,appeared_year,search_results_gscholar,source_1_citation,source_1_doi,source_2_citation,source_2_doi,source_3_citation,source_3_doi,parent_id,sibling_id_1,sibling_id_2,sibling_id_3\r\nA38D0CD1,Anglo-American Journalism,"Place or Locus, Motivation or Reporting Style",,,null,624,"Schudson, M. (2001). The objectivity norm in American journalism. Journalism, 2(2), 149-170.",https://doi.org/10.1177%2F146488490100200201,"Williams, K. (2006). Competing models of journalism? Anglo-American and European reporting in the information age. Journalistica-Tidsskrift for forskning i journalistik, (2).",,"Hanitzsch, T. (2009). Comparative journalism studies. In The handbook of journalism studies (pp. 433-447). Routledge.",,,,,\r\n3B3C2459,3D Journalism,Technology or Data,,,1999-10-01T05:00:00+0000,3,"Schlichting, L. (2016). Interactive graphic journalism. VIEW Journal of European Television History and Culture, 5(10), 22-39.",https://doi.org/10.18146/2213-0969.2016.jethc110,"Zheleznyak, A. (2014). How to make money traveling. In 3D Journalism Forum (Saint-Petersburg, November 21-22, 2014). Available at: https://vk. com/audios429104 (accessed: 06.04. 2018).",,"Cohn, D. J. (2018). Looking anew [Book Review]. ArtAsiaPacific, (109), 116.",,,,,\r\n222A6FE7,Access Journalism,Motivation or Reporting Style,,,1989-08-29T05:00:00+0000,436,"Van Dijk, T. A. (2013). Discourse, power and access. In Texts and practices (pp. 93-113). Routledge.",,"Reich, Z. (2008). How citizens create news stories: The \u201Cnews access\u201D problem reversed. Journalism studies, 9(5), 739-758.",https://doi.org/10.1080/14616700802207748,"Harcup, T. (2003). The Unspoken-Said\' The Journalism of Alternative Media. Journalism, 4(3), 356-376.",https://doi.org/10.1177%2F14648849030043006,,,,\r\nFA3A67D3,Activist Journalism,Motivation or Reporting Style,,,2000-01-02T05:00:00+0000,638,"Wall, M. A. (2003). Social movements and the net: Activist journalism goes digital. Digital Journalism: Emerging media and the changing horizons of journalism, 113-122.",,"Ashuri, T. (2012). Activist journalism: Using digital technologies and undermining structures. Communication, culture & critique, 5(1), 38-56.",https://doi.org/10.1111/j.1753-9137.2011.01116.x,"Ward, S. J. (2009). Journalism ethics. The handbook of journalism studies, 295-309.",,,,,\r\nE294DEFE,Advocacy Journalism,Motivation or Reporting Style,,,1971-10-03T05:00:00+0000,3220,"Waisbord, S. (2009). Advocacy journalism in a global context. The handbook of journalism studies, 371-385.",,"Kempf, W. (2007). Peace journalism: A tightrope walk between advocacy journalism and constructive conflict coverage. Conflict & communication online, 6(2).",,"Waisbord, S., & Peruzzotti, E. (2009). The environmental story that wasn\u2019t: Advocacy, journalism and the asamble\xEDsmo movement in Argentina. Media, Culture & Society, 31(5), 691-709.",https://doi.org/10.1177/0163443709339462,,,,\r\nE8949873,Algorithmic Journalism,Technology or Data,,,null,412,"Anderson, C. W. (2013). Towards a sociology of computational and algorithmic journalism. New media & society, 15(7), 1005-1021.",https://doi.org/10.1177/1461444812465137,"D\xF6rr, K. N. (2016). Mapping the field of algorithmic journalism. Digital journalism.",https://doi.org/10.1080/21670811.2015.1096748,"D\xF6rr, K. N., & Hollnbuchner, K. (2017). Ethical challenges of algorithmic journalism. Digital journalism, 5(4), 404-419.",https://doi.org/10.1080/21670811.2016.1167612,,,,\r\n2EE4F0E0,Alternative Journalism,Motivation or Reporting Style,,,1977-06-12T05:00:00+0000,2810,"Atton, C., & Hamilton, J. F. (2008). Alternative journalism. Sage.",,"Atton, C. (2009). Alternative and citizen journalism. The handbook of journalism studies, 265-278.",,"Atton, C. (2003). What is alternative\'journalism?",,,,,\r\n4F006261,Ambient Journalism,"Technology or Data, Type of (Distribution) Medium or Channel, Place or Locus",,Alfred Hermida,null,1150,"Hermida, A. (2010). Twittering the news: The emergence of ambient journalism. Journalism practice, 4(3), 297-308.",https://doi.org/10.1080/17512781003640703,"Hermida, A. (2010). From TV to Twitter: How ambient news became ambient journalism. Media/Culture Journal, 13(2).",,"Burns, A. (2010). Oblique strategies for ambient journalism. M/c journal, 13(2).",,,,,\r\n069D9127,Analytical Journalism,Motivation or Reporting Style,,,2005-04-14T05:00:00+0000,456,"Hanitzsch, T. (2007). Deconstructing journalism culture: Toward a universal theory. Communication theory, 17(4), 367-385.",https://doi.org/10.1111/j.1468-2885.2007.00303.x,"Van der Haak, B., Parks, M., & Castells, M. (2012). The future of journalism: Networked journalism. International journal of communication, 6, 16.",,"Hanitzsch, T., Hanusch, F., Mellado, C., Anikina, M., Berganza, R., Cangoz, I., ... & Virginia Moreira, S. (2011). Mapping journalism cultures across nations: A comparative study of 18 countries. Journalism Studies, 12(3), 273-293.",https://doi.org/10.1080/1461670X.2010.512502,,,,\r\n0A0E7C1C,Augmented Journalism,Technology or Data,,,null,64,"Newman, N. (2017). Journalism, media, and technology trends and predictions 2017.",,"Marconi, F., & Siegman, A. (2017). The future of augmented journalism: A guide for newsrooms in the age of smart machines. New York: AP Insights. https://insights. ap. org/uploads/images/the-future-ofaugmented-journalism_ap-report. pdf.",,"Fanta, A. (2017). Putting Europe\u2019s robots on the map: automated journalism in news agencies. Reuters Institute Fellowship Paper, 2017-09.",,,,,\r\nED375703,Automated Journalism,Technology or Data,,,2016-10-18T00:00:26+0000,473,"Carlson, M. (2015). The robotic reporter: Automated journalism and the redefinition of labor, compositional forms, and journalistic authority. Digital journalism, 3(3), 416-431.",https://doi.org/10.1080/21670811.2014.976412,"Graefe, A. (2016). Guide to automated journalism.",,"Montal, T., & Reich, Z. (2017). I, robot. You, journalist. Who is the author? Authorship, bylines and full disclosure in automated journalism. Digital journalism, 5(7), 829-849.",https://doi.org/10.1080/21670811.2016.1209083,,,,\r\nFA47C34F,Branded Journalism,"Organization or Economic Model, Motivation or Reporting Style",,,2014-04-26T19:45:24+0000,105,"Lehto, M., & Moisala, V. (2014). Defining Branded Journalism. Retrieved, 15, 2014.",,"Poynor, R. (2001). Obey the giant: Life in the image world. Birkhauser.",,"Chan-Olmsted, S. M., & Shay, R. (2015). Media branding 3.0: From media brands to branded entertainment and information. In Handbook of media branding (pp. 11-32). Springer, Cham.",https://doi.org/10.1007/978-3-319-18236-0_2,,,,\r\n5CB0549C,Breaking News,"Time-Related Dimension, Thematic Focus or Beat",,,1905-09-28T05:00:00+0000,57200,"Phuvipadawat, S., & Murata, T. (2010, August). Breaking news detection and tracking in Twitter. In 2010 IEEE/WIC/ACM International Conference on Web Intelligence and Intelligent Agent Technology (Vol. 3, pp. 120-123). IEEE.",10.1109/WI-IAT.2010.205,"Hu, M., Liu, S., Wei, F., Wu, Y., Stasko, J., & Ma, K. L. (2012, May). Breaking news on twitter. In Proceedings of the SIGCHI Conference on Human Factors in Computing Systems (pp. 2751-2754). ACM.",10.1145/2207676.2208672,"Weitzer, R., & Kubrin, C. E. (2004). Breaking news: How local TV news and real-world conditions affect fear of crime. Justice Quarterly, 21(3), 497-520.",https://doi.org/10.1080/07418820400095881,,,,\r\nDEB2F0C1,Broadcast Journalism,Type of (Distribution) Medium or Channel,,,1970-01-13T05:00:00+0000,12800,"Boyd, A. (2001). Broadcast journalism: techniques of radio and television news. Taylor & Francis.",,"Bliss Jr, E. (2010). Now the news: The story of broadcast journalism. Columbia University Press.",,"Cloud, S., & Olson, L. (1996). The Murrow boys: Pioneers on the front lines of broadcast journalism (p. 448). New York: Houghton Mifflin.",,,,,\r\nAAEA6CD8,Broadsheet Journalism,Motivation or Reporting Style,,,null,207,"Macdonald, M. (1998). Personalisation in current affairs journalism. Javnost-The Public, 5(3), 109-126.",https://doi.org/10.1080/13183222.1998.11008686,"Boyle, R. (2006). Sports journalism: Context and issues. Sage.",,"Radstone, S. (2006). Cultures of confession/cultures of testimony: Turning the subject inside out. In Modern Confessional Writing (pp. 176-189). Routledge.",,,,,\r\nCF6D16F4,Business Journalism,Thematic Focus or Beat,,,1971-11-10T05:00:00+0000,4750,"Kj\xE6r, P., & Slaatta, T. (Eds.). (2007). Mediating business: The expansion of business journalism. Copenhagen Business School Press DK.",,"Berkowitz, D. (1993). Work roles and news selection in local TV: Examining the business\u2010journalism dialectic. Journal of Broadcasting & Electronic Media, 37(1), 67-81.",https://doi.org/10.1080/08838159309364204,"Grafstr\xF6m, M. (2006). The development of Swedish business journalism: Historical roots of an organisational field (Doctoral dissertation, F\xF6retagsekonomiska institutionen, Uppsala universitet).",,,,,\r\n8AAF884C,Checkbook Journalism,Place or Locus,,,1975-03-06T05:00:00+0000,465,"Boynton, R. S. (2008). Checkbook journalism revisited: sometimes we owe our sources everything. Columbia Journalism Review, 46(5), 12-15.",,"Pugh, S. C. (1994). Checkbook Journalism, Free Speech, and Fair Trials. U. Pa. L. Rev., 143, 1739.",,"Mengelkoch, L. (1994). When checkbook journalism does God\'s work. Columbia Journalism Review, 33(4), 35.",,,,,\r\n01EE6049,Celebrity Journalism,Thematic Focus or Beat,,,1983-04-28T05:00:00+0000,1090,"Conboy, M. (2014). Celebrity journalism\u2013An oxymoron? Forms and functions of a genre. Journalism, 15(2), 171-185.",https://doi.org/10.1177/1464884913488722,"de Leon, C. L. P. (2002). Self-exposure: Human-interest Journalism and the Emergence of Celebrity in America, 1890-1940. Univ of North Carolina Press.",,"Cashmore, E. (2014). Celebrity culture. Routledge.",,,,,\r\n36D43B9A,Churnalism,Organization or Economic Model,,Waseem Zakir,2011-02-24T20:00:18+0000,1120,"Jackson, D., & Moloney, K. (2016). Inside churnalism: PR, journalism and power relationships in flux. Journalism Studies, 17(6), 763-780.",https://doi.org/10.1080/1461670X.2015.1017597,"Van Hout, T., & Van Leuven, S. (2016). Investigating \u2018churnalism\u2019in real-time news. In The Routledge companion to digital journalism studies (pp. 117-125). Routledge.",,"Knight, M. (2011, September). The origin of stories: How journalists find and create news in an age of social media, competition and churnalism. In Future of Journalism Conference (pp. 8-9).",,,,,\r\nFC37C36F,Citizen Journalism,Audience Relationship,,,2001-07-16T05:00:00+0000,,,,,,,,,,,\r\n6C66B0B3,Civic Journalism,Audience Relationship,,,1994-10-03T05:00:00+0000,,,,,,,,,,,\r\n26BD97C1,Coded Journalism,Technology or Data,,,null,,,,,,,,,,,\r\n5960EB8F,Collaborative Journalism,Organization or Economic Model,,,2009-11-16T14:23:20+0000,,,,,,,,,,,\r\n41AE4E35,Commentary Journalism,Motivation or Reporting Style,,,2001-04-29T05:00:00+0000,,,,,,,,,,,\r\n9D32BC4E,Community Journalism,"Place or Locus, Audience-Relationship",,,1973-11-28T05:00:00+0000,,,,,,,,,,,\r\n9073B134,Computational Journalism,Technology or Data,,,2011-12-06T22:53:11+0000,,,,,,,,,,,\r\n08E8F0B4,Confessional Journalism,Motivation or Reporting Style,,,1976-08-08T05:00:00+0000,,,,,,,,,,,\r\n39406D64,Confessions Journalism,"Thematic Focus or Beat, Motivation or Reporting Style",,,null,,,,,,,,,,,\r\n6AFC9CB0,Constructive Journalism,Motivation or Reporting Style,,,1979-12-02T05:00:00+0000,,,,,,,,,,,\r\nF562CEAE,Convergence Journalism,Motivation or Reporting Style,Convergent Journalism,,2006-05-15T04:00:00+0000,,,,,,,,,,,\r\nE82E8A83,Conversational Journalism,Motivation or Reporting Style,,,2015-03-03T03:00:43+0000,,,,,,,,F9402688,,,\r\n8D30E9C1,Corporate Sports Journalism,"Thematic Focus or Beat, Motivation or Reporting Style",,,null,/,,,,,,,,,,\r\n0C802B15,Cozy Journalism,"Motivation or Reporting Style, Audience Relationship",,Steen Steensen,null,,,,,,,,,,,\r\nF6F1A508,Creative Journalism,Motivation or Reporting Style,,,1970-09-28T05:00:00+0000,,,,,,,,,,,\r\n4E9C928C,Crowdfunded Journalism,Organization or Economic Model,,,null,,,,,,,,,,,\r\n3E6952D5,Crowdsourced Journalism,Audience Relationship,,,null,,,,,,,,,,,\r\n7A19601C,Crusader Journalism,Motivation or Reporting Style,Crusading Journalism,,1964-02-16T05:00:00+0000,,,,,,,,,,,\r\n81E7D5E8,Cultural Journalism,Thematic Focus or Beat,,,1989-12-10T05:00:00+0000,,,,,,,,,,,\r\nB320999A,Data-driven Journalism,Technology or Data,Data Journalism,,2013-02-07T19:05:03+0000,,,,,,,,38FB1A59,,,\r\n6D217F3E,Datafied Journalism,Technology or Data,,,null,,,,,,,,,,,\r\n3591D8F8,Dialogue Journalism,Audience-Relationship,,,null,,,,,,,,,,,\r\n38FB1A59,Digital Journalism,"Technology or Data, Type of (Distribution) Medium or Channel",,,1997-11-30T05:00:00+0000,,,,,,,,,,,\r\nD3BA5755,Discursive Journalism,Audience-Relationship,,,null,,,,,,,,,,,\r\n9D04E056,Drone Journalism,Technology or Data,,,2011-11-17T23:43:18+0000,,,,,,,,,,,\r\nA2A8AF49,Embedded Journalism,"Motivation or Reporting Style, Thematic Focus or Beat",,,2003-03-27T05:00:00+0000,,,,,,,,,,,\r\n82E73D6B,End-user Journalism,Audience-Relationship,,,null,,,,,,,,,,,\r\n5D1A68AA,Engagement Journalism,Audience-Relationship,,,2011-08-23T17:06:00+0000,,,,,,,,,,,\r\n18BFA5AE,Entertainment Journalism,"Motivation or Reporting Style, Thematic Focus or Beat",,,1979-05-20T05:00:00+0000,,,,,,,,,,,\r\n4F4E9F37,Entrepreneurial Journalism,Organization or Economic Model,,,2007-12-06T18:38:54+0000,,,,,,,,,,,\r\nF49AE6B8,Esports Journalism,Thematic Focus or Beat,,"Gotfrag, HLTV",null,,,,,,,,,,,\r\n26EA5DBE,European Journalism,Place or Locus,,,1865-09-29T05:00:00+0000,,,,,,,,,,,\r\nEC1DAD8B,Facebook Journalism,Type of (Distribution) Medium or Channel,,,2017-01-11T15:00:24+0000,,,,,,,,,,,\r\nAFD07C89,Fashion Journalism,Thematic Focus or Beat,,,1970-08-23T05:00:00+0000,,,,,,,,,,,\r\n97433453,First-Person Journalism,"Motivation or Reporting Style, Thematic Focus or Beat",,,1971-01-15T05:00:00+0000,,,,,,,,,,,\r\n52981929,Foundation Journalism,Organization or Economic Model,,,1964-05-12T05:00:00+0000,244,"Hanitzsch, T. (2007). Situating peace journalism in journalism studies: A critical appraisal. Conflict & Communication, 6(2).",http://dx.doi.org/10.5930/issn.1618-0747,"Lamble, S. (2013). News as it happens: An introduction to journalism. Oxford University Press.",http://doi.org/10.978.97801/90303747,"Gray, J., Chambers, L., & Bounegru, L. (2012). The data journalism handbook: how journalists can use data to improve the news. "" O\'Reilly Media, Inc."".","https://doi.org/10.5281/zenodo.1281348\n",,,,\r\nE725490D,Freelance Journalism,Organization or Economic Model,,,1964-11-27T05:00:00+0000,1520,"Hunter, A. (2015). Crowdfunding independent and freelance journalism: Negotiating journalistic norms of autonomy and objectivity. New Media & Society, 17(2), 272-288.\n",https://doi.org/10.1177%2F1461444814558915,"Cohen, N. S. (2016). Writers\' rights: freelance journalism in a digital age. McGill-Queen\'s Press-MQUP.",https://doi.org/10.1111/wusa.12292,"Franklin, B. (Ed.). (2005). Local journalism and local media: Making the local news. Routledge.",,,,,\r\n6069FB9E,Global Journalism,Place or Locus,,,1994-04-10T05:00:00+0000,4320,"Deuze, M. (2006). Global journalism education: A conceptual approach. Journalism studies, 7(1), 19-34.",,"Berglez, P. (2008). What is global journalism? Theoretical and empirical conceptualisations. Journalism Studies, 9(6), 845-858.",,"Ward, S. J. (2005). Philosophical foundations for global journalism ethics. Journal of Mass Media Ethics, 20(1), 3-21.",,F9402688,,,\r\nF9402688,Gonzo Journalism,Motivation or Reporting Style,,"Hunter S. Thompson, Tom Kummer",1972-07-23T05:00:00+0000,,"Caron, J. E. (1985). Hunter S. Thompson\'s"" Gonzo"" Journalism and the Tall Tale Tradition in America. Studies in Popular Culture, 8(1), 1-16.",,"Tamony, P. (1983). Gonzo. American Speech, 58(1), 73-75.",,"Czarnobai, A. F. P. (2003). Gonzo\u2013o filho bastardo do New Journalism. Porto Alegre.",,,,,\r\nBBBE7DE7,Gotcha Journalism,Motivation or Reporting Style,,,1996-09-08T05:00:00+0000,410,"\uBC15\uC8FC\uD604. (2007). \uAC00\uCC28 \uC800\uB110\uB9AC\uC998 (Gotcha Journalism) \uC758 \uB274\uC2A4\uB2F4\uB860 \uAD6C\uC131\uC5D0 \uAD00\uD55C \uD0D0\uC0C9\uC801 \uC5F0\uAD6C:\u2018\uC774\uD574\uCC2C \uACE8\uD504\uC0AC\uAC74\u2019\uACFC \u2018\uC774\uBA85\uBC15 \uD14C\uB2C8\uC2A4\uC0AC\uAC74\u2019\uC744 \uC911\uC2EC\uC73C\uB85C. \uC5B8\uB860\uACFC\uD559\uC5F0\uAD6C, 7(1), 108-143.",,"Zelizer, B., & Allan, S. (2010). Keywords in news and journalism studies. McGraw-Hill Education (UK).",,"Rowse, A. E. (2000). Drive-by journalism: The assault on your need to know. Common Courage Pr.",,F9402688,,,\r\n3FD7CDEB,Grassroots Journalism,Audience-Relationship,,,2005-02-21T05:00:00+0000,3440,"Gillmor, D. (2006). We the media: Grassroots journalism by the people, for the people. "" O\'Reilly Media, Inc."".",,"Lasica, J. D. (2003). Blogs and journalism need each other. Nieman reports, 57(3), 70-74.",,"Gillmor, D. (2004, August). We the media: Technology empowers a new grassroots journalism. In Proceedings of the fifteenth ACM conference on Hypertext and hypermedia (pp. 270-271). ACM.",,,,,\r\nF2FAC66D,Green Journalism,Motivation or Reporting Style,,,null,96,"Miller, T. (2015). Unsustainable journalism. Digital Journalism, 3(5), 653-663.",,"Singer, J. B., Domingo, D., Heinonen, A., Hermida, A., Paulussen, S., Quandt, T., ... & Vujnovic, M. (2011). Participatory journalism: Guarding open gates at online newspapers. John Wiley & Sons.",,"Finlay, A. (2012). Systemic challenges to reporting complexity in journalism: HIV/Aids and climate change in Africa. Ecquid Novi: African Journalism Studies, 33(1), 15-25.",,,,,\r\n104BD8F4,Hacker Journalism,Technology or Data,,,1985-12-18T05:00:00+0000,26,"Baack, S. (2015). Datafication and empowerment: How the open data movement re-articulates notions of democracy, participation, and journalism. Big Data & Society, 2(2), 2053951715594634.",,"Usher, N. (2016). Interactive journalism: Hackers, data, and code. University of Illinois Press.",,"Pickard, V. (2015). The return of the nervous liberals: Market fundamentalism, policy failure, and recurring journalism crises. The Communication Review, 18(2), 82-97.",,,,,\r\n32856E08,Health Journalism,Thematic Focus or Beat,,,2001-01-04T05:00:00+0000,2150,"Molyneux, L., & Holton, A. (2015). Branding (health) journalism: Perceptions, practices, and emerging norms. Digital journalism, 3(2), 225-242.",,"Hodgetts, D., Chamberlain, K., Scammell, M., Karapu, R., & Waimarie Nikora, L. (2008). Constructing health news: possibilities for a civic-oriented journalism. Health:, 12(1), 43-66.",,"Schwitzer, G. (2010, October). The future of health journalism. In Public Health Forum (Vol. 18, No. 3, pp. 19-20). De Gruyter.",,BBBE7DE7,,,\r\nB381F804,Hyperlocal Journalism,Place or Locus,,,2007-01-14T05:00:00+0000,,,,,,,,,,,\r\nACD7E29F,Immersion Journalism,Motivation or Reporting Style,,,2003-08-15T05:00:00+0000,,,,,,,,,,,\r\nB25E8DCE,Immersive Journalism,Technology or Data,,,2007-01-25T14:13:15+0000,,,,,,,,,,,\r\nE99319AD,Innovation Journalism,"Technology or Data, Motivation or Reporting Style, Thematic Focus or Beat",,Astrid Gynnild,2005-11-14T07:03:00+0000,,,,,,,,,,,\r\n7BC61EDD,Instagram Journalism,Type of (Distribution) Medium or Channel,,,2014-12-23T12:29:43+0000,,,,,,,,,,,\r\n5DF36974,Interactive Journalism,Audience-Relationship,,,2002-02-03T05:00:00+0000,,,,,,,,,,,\r\nD21988ED,Internet Journalism,Type of (Distribution) Medium or Channel,,,1996-05-20T05:00:00+0000,,,,,,,,,,,\r\n5A689BED,Interpretive Journalism,Motivation or Reporting Style,,,1964-04-29T05:00:00+0000,,,,,,,,,,,\r\n06CA34A8,Investigative Journalism,Motivation or Reporting Style,,,1970-01-27T05:00:00+0000,,,,,,,,,,,\r\nA7D48CC5,iPad Journalism,Type of (Distribution) Medium or Channel,,,null,,,,,,,,,,,\r\nBAC2B83C,Lay Journalism,Audience-Relationship,,,null,,,,,,,,,,,\r\nA443EB63,Lifestyle Journalism,Thematic Focus or Beat,,,1987-03-15T05:00:00+0000,,,,,,,,,,,\r\n25339ABE,Liquid Journalism,Audience-Relationship,,,null,,,,,,,,,,,\r\nA019EF04,Literary Journalism,Motivation or Reporting Style,,,1898-07-16T05:00:00+0000,,,,,,,,,,,\r\n3F1B30E4,Livestream Journalism,"Technology or Data, Type of (Distribution) Medium or Channel",,,null,,,,,,,,,,,\r\n12E11799,Local Journalism,Place or Locus,,,1873-07-10T05:00:00+0000,,,,,,,,,,,\r\n4BDAC3A4,Longform Journalism,Motivation or Reporting Style,,,2010-07-22T15:17:08+0000,,,,,,,,,,,\r\nB7804876,Low-pay Journalism,Organization or Economic Model,,,2006-01-25T05:00:00+0000,,,,,,,,,,,\r\n2D9A77A0,Magazine Journalism,Motivation or Reporting Style,,,1964-04-06T05:00:00+0000,,,,,,,,,,,\r\n0BB4D743,Mainstream Journalism,"Motivation or Reporting Style, Audience Relationship",,,1984-06-17T05:00:00+0000,,,,,,,,,,,\r\n9A60A5FC,Measurable Journalism,Organization or Economic Model,,,null,,,,,,,,,,,\r\n33A75E31,Media Journalism,Thematic Focus or Beat,,,1964-05-29T05:00:00+0000,,,,,,,,,,,\r\n63D89CC6,Metrics-driven Journalism,Technology or Data,,,:null,,,,,,,,,,,\r\n197A67E0,Metropolitan Journalism,Place or Locus,,,1860-10-13T05:00:00+0000,,,,,,,,,,,\r\n930FFDB9,Millennial Journalism,Audience Relationship,,,2014-11-14T13:24:38+0000,,,,,,,,,,,\r\n570F48C4,Mobile Journalism,"Place or Locus, Type of (Distribution) Medium or Channel",,,null,,,,,,,,,,,\r\n8A31261D,Muckracking Journalism,Motivation or Reporting Style,,,1971-07-04T05:00:00+0000,,,,,,,,,,,\r\n2F2EBA80,Narrative Journalism,Motivation or Reporting Style,,,1986-05-17T05:00:00+0000,,,,,,,,,,,\r\nD3B46069,National Journalism,Place or Locus,,,1964-04-26T05:00:00+0000,,,,,,,,,,,\r\n88080ADC,Neo Journalism,Motivation or Reporting Style,,,null,,,,,,,,,,,\r\nD7E8C8B9,Network Journalism,Organization or Economic Model,,,1973-11-03T05:00:00+0000,,,,,,,,,,,\r\n84D2F498,Networked Journalism,"Technology or Data, Audience Relationship",,,1973-11-03T05:00:00+0000,,,,,,,,,,,\r\nAA511E46,New Journalism,Motivation or Reporting Style,,"Tom Wolfe, Lester Bangs, George Plimpton",1897-01-07T05:00:00+0000,,,,,,,,,,,\r\n648D76E2,News Journalism,Thematic Focus or Beat,,,1926-01-01T05:00:00+0000,,,,,,,,,,,\r\n3F5FF46F,Newspaper Journalism,Type of (Distribution) Medium or Channel,,,1938-11-13T05:00:00+0000,,,,,,,,,,,\r\nA1903BF9,No-pay Journalism,Organization or Economic Model,,,1992-02-03T05:00:00+0000,,,,,,,,,,,\r\n13E1F58A,Non-profit Journalism,Organization or Economic Model,,,2010-03-12T06:13:08+0000,,,,,,,,,,,\r\nB6496644,Objective Journalism,Motivation or Reporting Style,,,1972-05-25T05:00:00+0000,,,,,,,,,,,\r\n091C2E4F,Obsessive-activist Journalism,Motivation or Reporting Style,,,null,,,,,,,,,,,\r\n4016D6C5,Online Journalism,Type of (Distribution) Medium or Channel,,,1998-09-30T05:00:00+0000,,,,,,,,,,,\r\n8E8F9466,Op-ed Journalism,Motivation or Reporting Style,,,2001-02-18T05:00:00+0000,,,,,,,,,,,\r\nA7364013,Open-Data Journalism,Technology or Data,,,null,,,,,,,,,,,\r\n33B23AFD,Open-Source Journalism,Technology or Data,,,2005-02-14T05:00:00+0000,,,,,,,,,,,\r\nBB529ABE,Participatory Journalism,Audience-Relationship,,,1972-10-15T05:00:00+0000,,,,,,,,,,,\r\n2C01EBFB,Partisan Journalism,Motivation or Reporting Style,,,1870-01-25T05:00:00+0000,,,,,,,,,,,\r\n6C9BCF2C,Peace Journalism,Motivation or Reporting Style,,,null,,,,,,,,,,,\r\nE5DB1807,Peer-to-peer Journalism,Audience-Relationship,,,2003-07-03T05:00:00+0000,,,,,,,,,,,\r\n9ACEA908,Personal Journalism,Motivation or Reporting Style,,,1872-03-16T05:00:00+0000,,,,,,,,,,,\r\n7BBA523A,Personal Brand Journalism,"Organization or Economic Model, Motivation or Reporting Style",,,null,,,,,,,,,,,\r\nDB60681E,Photo Journalism,Technology or Data,,,1964-02-23T05:00:00+0000,,,,,,,,,,,\r\nDF3DC8E4,Podcast Journalism,Type of (Distribution) Medium or Channel,,,null,,,,,,,,,,,\r\nA7627FD4,Political Journalism,Thematic Focus or Beat,,,1875-04-11T05:00:00+0000,,,,,,,,,,,\r\n389F7536,Pop Journalism,Thematic Focus or Beat,,"J\xF6rg Fauser, Diedrich Diedrichsen",1978-01-29T05:00:00+0000,,,,,,,,,,,\r\nFDE860DD,Positive Journalism,Motivation or Reporting Style,,,1982-05-23T05:00:00+0000,,,,,,,,,,,\r\n1BB7EEC3,Post Journalism,Motivation or Reporting Style,,,1998-11-21T05:00:00+0000,,,,,,,,,,,\r\nAA0256FF,Post-Industrial Journalism,Organization or Economic Model,,,null,,,,,,,,,,,\r\n20251CC5,Precision Journalism,Motivation or Reporting Style,,,1974-09-01T05:00:00+0000,,,,,,,,,,,\r\nD0FDD72E,Print Journalism,Type of (Distribution) Medium or Channel,,,1970-01-11T05:00:00+0000,,,,,,,,,,,\r\nCC2F3516,Privately Owned Journalism,Organization or Economic Model,,,null,,,,,,,,,,,\r\n97CCCE11,Process Journalism,Organization or Economic Model,,,1984-12-09T05:00:00+0000,,,,,,,,,,,\r\nFCB9BE43,Product Journalism,"Organization or Economic Model, Motivation or Reporting Style",,,2013-10-31T12:35:00+0000,,,,,,,,,,,\r\nC27AC503,Public Journalism,"Motivation or Reporting Style, Audience Relationship",,,1865-10-15T05:00:00+0000,,,,,,,,,,,\r\n5F358AE5,Public Domain Journalism,Organization or Economic Model,,"Mike Ananny, Daniel Kreiss",null,,,,,,,,,,,\r\n77AFED28,Public Interest Journalism,Motivation or Reporting Style,,,1989-02-26T05:00:00+0000,,,,,,,,,,,\r\nB863DD56,Public Service Journalism,Organization or Economic Model,,,1979-12-09T05:00:00+0000,,,,,,,,,,,\r\n69AF6A81,Quality Journalism,Motivation or Reporting Style,,,1972-05-18T05:00:00+0000,,,,,,,,,,,\r\n930A2D98,Quantified Journalism,Technology or Data,,,null,/,,,,,,,,,,\r\nBF3F708B,Radio Journalism,Type of (Distribution) Medium or Channel,,,1964-02-10T05:00:00+0000,,,,,,,,,,,\r\n3FB93FC1,Real-time Journalism,Time-Related Dimension,,,null,,,,,,,,,,,\r\n36BF01C6,Reciprocal Journalism,Audience-Relationship,,,null,,,,,,,,,,,\r\n71C183E0,Robot Journalism,Technology or Data,,,2010-11-27T18:37:17+0000,,,,,,,,,,,\r\n3D9669EA,Rogue Journalism,Motivation or Reporting Style,,,null,,,,,,,,,,,\r\n1899EF86,Rural Journalism,Place or Locus,,,1939-04-21T05:00:00+0000,,,,,,,,,,,\r\n836CC5C5,Science Journalism,Thematic Focus or Beat,,,1964-01-01T05:00:00+0000,,,,,,,,,,,\r\nA79DC7A1,Selfie Journalism,"Technology or Data, Motivation or Reporting Style",,,null,,,,,,,,,,,\r\nEC5E2C1A,Sensor Journalism,Technology or Data,,,null,,,,,,,,,,,\r\nD3590D1D,Service Journalism,Motivation or Reporting Style,,,1974-12-06T05:00:00+0000,,,,,,,,,,,\r\n85134A42,Slow Journalism,Time-Related Dimension,,,null,,,,,,,,,,,\r\nDAE28080,Snapchat Journalism,Type of (Distribution) Medium or Channel,,,2014-10-14T12:59:12+0000,,,,,,,,,,,\r\n28548C70,Social Media Journalism,Type of (Distribution) Medium or Channel,,,2010-04-21T23:21:09+0000,,,,,,,,,,,\r\nE83D7264,Solutions Journalism,Motivation or Reporting Style,,,2011-12-21T01:48:10+0000,,,,,,,,,,,\r\n1CC020D2,Special Interest Journalism,Thematic Focus or Beat,,,null,,,,,,,,,,,\r\n8BACCF7E,Speed-driven Journalism,Motivation or Reporting Style,,,null,,,,,,,,,,,\r\nE3EB6ECE,Sports Journalism,Thematic Focus or Beat,,,1970-05-18T05:00:00+0000,,,,,,,,,,,\r\n268424DB,Structured Journalism,Technology or Data,,,2014-12-05T13:17:32+0000,,,,,,,,,,,\r\n67ADD029,Subjective Journalism,Motivation or Reporting Style,,,1972-04-30T05:00:00+0000,,,,,,,,,,,\r\n899A875E,Tabloid Journalism,Motivation or Reporting Style,,,1901-01-06T05:00:00+0000,,,,,,,,,,,\r\n5FDBA58D,Tech Journalism,Thematic Focus or Beat,,,1994-06-19T05:00:00+0000,,,,,,,,,,,\r\n954E9832,Traditional Journalism,Motivation or Reporting Style,,,1972-04-08T05:00:00+0000,,,,,,,,,,,\r\n3F961945,Transmedia Journalism,Type of (Distribution) Medium or Channel,,,null,,,,,,,,,,,\r\n3C4A18E3,Travel Journalism,Thematic Focus or Beat,,,1976-10-02T05:00:00+0000,,,,,,,,,,,\r\nD6C51FB7,TV Journalism,Type of (Distribution) Medium or Channel,,,1964-03-02T05:00:00+0000,,,,,,,,,,,\r\n8A26C11B,Twitter Journalism,Type of (Distribution) Medium or Channel,,,2008-09-17T16:10:19+0000,,,,,,,,,,,\r\n8F96907A,Underground Journalism,Motivation or Reporting Style,,,2000-01-23T05:00:00+0000,,,,,,,,,,,\r\nD2FD4D2E,Urban Journalism,Place or Locus,,,1976-11-13T05:00:00+0000,,,,,,,,,,,\r\n52366706,Venture-backed Journalism,Organization or Economic Model,,,null,,,,,,,,,,,\r\nC402F6F8,Virtual-Reality Journalism,Technology or Data,,,2015-01-23T05:00:33+0000,,,,,,,,,,,\r\n7FA18190,Visual Journalism,"Motivation or Reporting Style, Technology or Data",,,1985-07-07T05:00:00+0000,,,,,,,,,,,\r\nEEE8CEE3,Watchdog Journalism,Motivation or Reporting Style,,,1995-08-03T05:00:00+0000,,,,,,,,,,,\r\n90B56F76,Web Journalism,Type of (Distribution) Medium or Channel,,,1998-08-03T05:00:00+0000,,,,,,,,,,,\r\n8CF3A721,Blog Journalism,"Type of (Distribution) Medium or Channel, Motivation or Reporting Style",Weblog,,2009-09-24T15:26:44+0000,,,,,,,,,,,\r\nFDB52712,Wiki Journalism,Audience-Relationship,,,null,,,,,,,,,,,';

import { useFiltersStateContext, useFiltersDispatchContext } from './useFilters';

var StateContext = createContext();
var DispatchContext = createContext();

var SET_TERMS = 'XJ/DATA/SET_TERMS';
var SET_DOMAIN = 'XJ/DATA/SET_DOMAIN';
var SET_HIGHLIGHTED_TERMS = 'XJ/DATA/SET_HIGHLIGHTED_TERMS';
var SET_COLOR_SCALE = 'XJ/DATA/SET_COLOR_SCALE';

var __initialState = {
  domain: null,
  terms: [],
  colorScale: null
};

var __reducer = function __reducer(state, action) {
  switch (action.type) {
    case SET_TERMS:
      return _extends({}, state, {
        terms: action.payload
      });
    case SET_COLOR_SCALE:
      return _extends({}, state, {
        colorScale: action.payload
      });
    case SET_DOMAIN:
      return _extends({}, state, {
        domain: action.payload
      });
    case SET_HIGHLIGHTED_TERMS:
      return __reducer(state, {
        type: SET_TERMS,
        payload: state.terms.map(function (t) {
          return _extends({}, t, {
            disabled: action.payload.cats.length > 0 && action.payload.cats.indexOf(t.categories[0]) === -1
          });
        })
      });
    default:
      return _extends({}, state);
  }
};

export var DataStateProvider = function DataStateProvider(_ref) {
  var _ref$reducer = _ref.reducer,
      reducer = _ref$reducer === undefined ? __reducer : _ref$reducer,
      _ref$initialState = _ref.initialState,
      initialState = _ref$initialState === undefined ? __initialState : _ref$initialState,
      children = _ref.children;

  var _useReducer = useReducer(reducer, initialState),
      state = _useReducer[0],
      dispatch = _useReducer[1];

  var dispatchCat = useFiltersDispatchContext();

  var _useFiltersStateConte = useFiltersStateContext(),
      selectedCats = _useFiltersStateConte.selected;

  var computeDomain = function computeDomain(terms) {
    var allDates = terms.map(function (i) {
      return i.start;
    });
    return [new dayjs(Math.min.apply(null, allDates)), new dayjs(Math.max.apply(null, allDates))];
  };
  var accent = scaleOrdinal(schemeSet2);

  // Downloads the data and hydrates some fields. Runs only once at startup
  React.useEffect(function () {
    var data = csvParse(dataRaw);
    var items = data.filter(function (d) {
      return d.appeared_year && d.appeared_year.length > 10;
    }).map(function (d) {
      return _extends({}, d, {
        id: d.id,
        content: d.term,
        start: dayjs(new Date(d.appeared_year.slice(0, 10))),
        parent: d.parent_id ? d.parent_id : null,
        categories: d.categories.split(', ')
      });
    }).filter(function (d) {
      return !!d;
    }).sort(function (a, b) {
      return a.start - b.start;
    });

    // set the terms
    dispatch({
      type: SET_TERMS,
      payload: items
    });
    // set the color scale
    dispatch({
      type: SET_COLOR_SCALE,
      payload: accent
    });
    // Set the domain (for the scale)
    dispatch({
      type: SET_DOMAIN,
      payload: computeDomain(items)
    });
  }, [dispatchCat]);

  // when a category change, update the selected terms
  React.useEffect(function () {
    dispatch({
      type: SET_HIGHLIGHTED_TERMS,
      payload: { cats: selectedCats }
    });
  }, [selectedCats]);

  return React.createElement(
    DispatchContext.Provider,
    { value: dispatch },
    React.createElement(
      StateContext.Provider,
      { value: state },
      children
    )
  );
};

export var useDataStateContext = function useDataStateContext() {
  return useContext(StateContext);
};
export var useDataDispatchContext = function useDataDispatchContext() {
  return useContext(DispatchContext);
};